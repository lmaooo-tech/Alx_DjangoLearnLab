[pytest]
# Pytest Configuration for advanced-api-project

# ============================================================================
# Django Configuration
# ============================================================================
DJANGO_FIND_PROJECT = true
DJANGO_DEBUG_MODE = true
DJANGO_SETTINGS_MODULE = advanced_api_project.settings_test

# ============================================================================
# Test Discovery
# ============================================================================
# Files to search for tests
python_files = tests.py test_*.py *_tests.py

# Classes to treat as test classes
python_classes = Test*

# Functions to treat as tests
python_functions = test_*

# Test paths to search
testpaths = api

# ============================================================================
# Output & Reporting
# ============================================================================
# Verbose output
addopts = 
    --strict-markers
    --tb=short
    --disable-warnings
    -ra
    -v

# Show local variables in tracebacks
showlocals = true

# Timeout for tests (in seconds)
timeout = 30
timeout_method = thread

# ============================================================================
# Coverage Configuration (pytest-cov)
# ============================================================================
# Uncomment to enable coverage reporting
# addopts = --cov=api --cov-report=html --cov-report=term

# ============================================================================
# Database Configuration
# ============================================================================
# Marker for tests that require database access
# Usage: @pytest.mark.django_db
django_db_use_migrations = false

# ============================================================================
# Markers
# ============================================================================
markers =
    test_views: API view tests
    test_models: Model tests
    test_serializers: Serializer tests
    test_filters: Filter tests
    slow: Slow running tests
    integration: Integration tests
    django_db: Tests requiring database access
    asyncio: Tests using async functionality

# ============================================================================
# Logging Configuration
# ============================================================================
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# ============================================================================
# Warnings
# ============================================================================
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
